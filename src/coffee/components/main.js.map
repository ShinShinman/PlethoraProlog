{"version":3,"file":"main.js","sources":["main.coffee"],"names":[],"mappings":"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","sourcesContent":["# jQuery\r\n$ ->\r\n\tforwardSwiperEl = $('.swiper-container.forward .swiper-wrapper');\r\n\tbackwardSwiperEl = $('.swiper-container.backward .swiper-wrapper');\r\n\r\n\tinfoObj = {\r\n\t\ttrg: $('section.info'),\r\n\t\tmode: 'colapsed'\r\n\t}\r\n\tinfoTrigger = {\r\n\t\ttrg: infoObj.trg.find('.trigger button'),\r\n\t\tcloseBtn: infoObj.trg.find('.trigger button .close')\r\n\t}\r\n\t\r\n\tinfoObjToggle = () ->\r\n\t\tif infoObj.mode == 'expanded'\r\n\t\t\tinfoObj.mode = 'colapsed'\r\n\t\t\tinfoObj.trg.animate({\r\n\t\t\t\theight: '2.5rem',\r\n\t\t\t\tpaddingTop: 0\r\n\t\t\t}, 'slow')\r\n\t\t\tinfoTrigger.closeBtn.hide()\r\n\t\telse\r\n\t\t\tinfoObj.mode = 'expanded';\r\n\t\t\tinfoObj.trg.animate({\r\n\t\t\t\theight: '100vh',\r\n\t\t\t\tpaddingTop: '3.5rem'\r\n\t\t\t}, 1000);\r\n\t\t\tinfoTrigger.closeBtn.show();\r\n\r\n\tinfoTrigger.trg.click((e) ->\r\n\t\tinfoObjToggle();\r\n\t)\r\n\r\n\t$.getJSON('ajax/slaids.json', (data) ->\r\n\t\tslides = []\r\n\t\t$.each data.slides, (key, slide) ->\r\n\t\t\tslideTemplate = '<div class=\"swiper-slide\">' +'<img src=\"images/' + slide.image + '_480.png\" alt=\"\" ' +'srcset=\"images/' + slide.image + '_480.png 1x, images/' + slide.image + '_960.png 2x, images/' + slide.image + '_1440.png 3x\">' +'<div class=\"text-column\">' +'<h1>' + slide.title + '</h1>' +'<p>' + slide.description + '</p>' +'<p class=\"note\">' + slide.note + '</p>' +'</div></div>'\r\n\r\n\t\t\tforwardSwiperEl.append(slideTemplate);\r\n\t\t\tbackwardSwiperEl.append(slideTemplate);\r\n\t\t\tslides.push(slide);\r\n\r\n\t\tswiperOptions = {\r\n\t\t\tnoSwipingClass: 'swiper-slide',\r\n\t\t\tloop: true,\r\n\t\t\tpagination: {\r\n\t\t\t\ttype: 'fraction'\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tforwardSwiper = new Swiper('.swiper-container.forward', {\r\n\t\t\tallowTouchMove: false,\r\n\t\t\tloop: true,\r\n\t\t\tpagination: {\r\n\t\t\t\tel: '.counter .forward-counter',\r\n\t\t\t\ttype: 'fraction'\r\n\t\t\t}\r\n\t\t})\r\n\t\t$('.forward .swiper-wrapper .swiper-slide').click( () ->\r\n\t\t\tforwardSwiper.slideNext()\r\n\t\t)\r\n\r\n\t\tbackwardSwiper = new Swiper('.swiper-container.backward', {\r\n\t\t\tinitialSlide: slides.length - 1,\r\n\t\t\tallowTouchMove: false,\r\n\t\t\tloop: true,\r\n\t\t\tpagination: {\r\n\t\t\t\tel: '.counter .backward-counter',\r\n\t\t\t\ttype: 'fraction'\r\n\t\t\t}\t\r\n\t\t})\r\n\r\n\t\t$('.backward .swiper-wrapper .swiper-slide').click(() ->\r\n\t\t\tbackwardSwiper.slidePrev()\r\n\t\t)\r\n\r\n\t\tif $(window).width() < 968\r\n\t\t\tforwardSwiper.allowTouchMove = true\r\n\r\n\t\t$(window).resize(() ->\r\n\t\t\tif $(window).width() < 968\r\n\t\t\t\tforwardSwiper.allowTouchMove = true\r\n\t\t)\r\n\r\n\t\tallImgs = $('.swiper-slide img')\r\n\t\tallFWImgs = $('.forward').find('.swiper-slide img')\r\n\t\tallBWImgs = $('.backward').find('.swiper-slide img')\r\n\t\ttrg = $('.forward-button, .backward-button')\r\n\r\n\t\tswitchImgs = (mode) ->\r\n\t\t\ttrg.text(mode)\r\n\t\t\r\n\t\t$('.forward-button').click((e) ->\r\n\t\t\tallFWImgs.fadeToggle()\r\n\t\t\ttrg = $(this)\r\n\t\t\tif $(this).data().mode == 'image' \r\n\t\t\t\t$(this).text('image').data().mode = 'text'\r\n\t\t\telse \r\n\t\t\t\t$(this).text('text').data().mode = 'image'\r\n\t\t)\r\n\r\n\t\t$('.backward-button').click((e) ->\r\n\t\t\tallBWImgs.fadeToggle()\r\n\t\t\ttrg = $(this)\r\n\t\t\tif $(this).data().mode == 'image'\r\n\t\t\t\t$(this).text('image').data().mode = 'text'\r\n\t\t\telse\r\n\t\t\t\t$(this).text('text').data().mode = 'image'\r\n\t\t)\r\n\r\n\t\t$(document).keydown((e) ->\r\n\t\t\tif e.keyCode == 37\r\n\t\t\t\tbackwardSwiper.slidePrev()\r\n\t\t\telse if e.keyCode == 39\r\n\t\t\t\tforwardSwiper.slideNext()\r\n\t\t\telse if e.keyCode == 38\r\n\t\t\t\tallImgs.fadeOut()\r\n\t\t\t\tswitchImgs('image')\r\n\t\t\telse if e.keyCode == 40\r\n\t\t\t\tallImgs.fadeIn()\r\n\t\t\t\tswitchImgs('text')\r\n\t\t\telse if e.keyCode == 32\r\n\t\t\t\te.preventDefault()\r\n\t\t\t\tinfoObjToggle()\r\n\t\t)\r\n\t)\r\n\r\nwindow.onload = ->\r\n\t$('.preloader').fadeOut()\r\n"]}